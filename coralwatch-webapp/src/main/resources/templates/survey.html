<#include "macros/basic.html"/>

<h3>Coral Bleaching Survey</h3>

<table>
    <tr>
        <td class="headercell">Creator:</td>
        <td>${(survey.creator.displayName)!}</td>
    </tr>
    <tr>
        <td class="headercell">Organisation:</td>
        <td>${(survey.organisation)!}</td>
    </tr>
    <tr>
        <td class="headercell">Organisation Type:</td>
        <td>${(survey.organisationType)!}</td>
    </tr>
    <tr>
        <td class="headercell">Country:</td>
        <td>${(survey.country)!}</td>
    </tr>

    <tr>
        <td class="headercell">Reef Name:</td>
        <td>${(survey.reefName)!}</td>
    </tr>
    <tr>
        <td class="headercell">Latitude:</td>
        <td>${(survey.latitude)!}</td>
    </tr>
    <tr>
        <td class="headercell">Longitude:</td>
        <td>${(survey.longitude)!}</td>
    </tr>
    <tr>
        <td class="headercell">Date:</td>
        <td>${(survey.date)!?date}</td>
    </tr>
    <tr>
        <td class="headercell">Time:</td>
        <td>${(survey.time)!}</td>
    </tr>
    <tr>
        <td class="headercell">Weather:</td>
        <td>${(survey.weather)!}</td>
    </tr>
    <tr>
        <td class="headercell">Temperature:</td>
        <td>${(survey.temperature)!}</td>
    </tr>
    <tr>
        <td class="headercell">Activity:</td>
        <td>${(survey.activity)!}</td>
    </tr>
    <tr>
        <td class="headercell">Comments:</td>
        <td>${(survey.comments)!}</td>
    </tr>
</table>
<#if canUpdate>
    <button dojoType="dijit.form.Button" onClick="window.location='${baseUrl}/surveys/${survey.id}?edit'">Edit</button>
</#if>
<#if canDelete>
    <button dojoType="dijit.form.Button" onClick="window.location='${baseUrl}/surveys/${survey.id}?edit'">Delete
    </button>
</#if>
<br/>

<br/>
<h3>Survey Data</h3>
<#if (surveyRecs?size > 0)>
    <table width="100%">
        <tr>
            <th class="headercell" nowrap="nowrap">Coral Type</th>
            <th class="headercell" nowrap="nowrap">Lightest</th>
            <th class="headercell" nowrap="nowrap">Darkest</th>
        </tr>
        <#list surveyRecs as item>
            <tr>
                <td>${item.coralType!}</td>
                <td>${item.lightest!}</td>
                <td>${item.darkest!}</td>
            </tr>
        </#list>
    </table>
    <#else>
        <p>No Data Available</p>
</#if>
<#if canUpdate>
    <br/>

    <h3>Add Data</h3>

    <div dojoType="dijit.form.Form" method="post" action="${baseUrl}/record">
        <input type="hidden" name="surveyId" value="${survey.id}"/>
        <table width="100%">
            <tr>
                <th class="headercell" nowrap="nowrap">Coral Type</th>
                <th class="headercell" nowrap="nowrap">Lightest</th>
                <th class="headercell" nowrap="nowrap">Darkest</th>
            </tr>
            <tr>
                <td nowrap="nowrap">
                    <input dojoType="dijit.form.RadioButton" id="coralType_0" name="coralType" value="Branching"
                           checked="checked" type="radio">
                    <label for="coralType_0"> Branching </label>
                    <input dojoType="dijit.form.RadioButton" id="coralType_1" name="coralType" value="Boulder"
                           type="radio">
                    <label for="coralType_1"> Boulder </label>
                    <input dojoType="dijit.form.RadioButton" id="coralType_2" name="coralType" value="Plate"
                           type="radio">
                    <label for="coralType_2"> Plate </label>
                    <input dojoType="dijit.form.RadioButton" id="coralType_3" name="coralType" value="Soft"
                           type="radio">
                    <label for="coralType_3"> Soft </label>
                </td>
                <td nowrap="nowrap">
                    <select name="lightestLetter"
                            id="lightestLetter"
                            style="width:60px;"
                            required="true"
                            dojoType="dijit.form.ComboBox"
                            hasDownArrow="true">
                        <option selected="selected" value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                    </select>
                    <select name="lightestNumber"
                            id="lightestNumber"
                            style="width:60px;"
                            required="true"
                            dojoType="dijit.form.ComboBox"
                            hasDownArrow="true">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option selected="selected" value="6">6</option>
                    </select>
                </td>
                <td nowrap="nowrap">
                    <select name="darkestLetter"
                            id="darkestLetter"
                            style="width:60px;"
                            required="true"
                            dojoType="dijit.form.ComboBox"
                            hasDownArrow="true">
                        <option selected="selected" value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                    </select>
                    <select name="darkestNumber"
                            id="darkestNumber"
                            style="width:60px;"
                            required="true"
                            dojoType="dijit.form.ComboBox"
                            hasDownArrow="true">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option selected="selected" value="6">6</option>
                    </select>
                </td>
            </tr>
        </table>

        <button dojoType="dijit.form.Button" type="submit" name="submit">Add</button>
    </div>
</#if>
